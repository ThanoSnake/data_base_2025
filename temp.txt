🔹 Trigger: trg_check_performance_gaps
Περιγραφή:
Το trigger trg_check_performance_gaps ενεργοποιείται πριν την εισαγωγή μιας νέας εμφάνισης στον πίνακα performance και εξασφαλίζει τη χρονική συνέπεια και κανονικότητα του προγράμματος κάθε event. Πρώτα, ελέγχει ότι η χρονική διάρκεια της εμφάνισης βρίσκεται εξολοκλήρου εντός του διαστήματος του αντίστοιχου event. Έπειτα, διασφαλίζεται ότι η νέα εμφάνιση δεν επικαλύπτεται με καμία ήδη καταχωρισμένη στο ίδιο event. Εξετάζεται επίσης αν το κενό μεταξύ εμφανίσεων είναι τουλάχιστον 5 λεπτά, αποτρέποντας υπερβολικά μικρές παύσεις που δεν επαρκούν για αλλαγές στη σκηνή ή τεχνικές ρυθμίσεις. Τέλος, απορρίπτεται η εισαγωγή αν δημιουργείται κενό μεγαλύτερο των 30 λεπτών πριν ή μετά την εμφάνιση, καθώς κάτι τέτοιο θα οδηγούσε σε μη ρεαλιστικά ή ανεπιθύμητα μεγάλα διαλείμματα στο πρόγραμμα. Αν παραβιαστεί οποιαδήποτε από αυτές τις συνθήκες, η εισαγωγή μπλοκάρεται με σχετικό μήνυμα σφάλματος.



🔹 Trigger: trg_check_artist_band_constraints
Περιγραφή:
Το trigger trg_check_artist_band_constraints ενεργοποιείται πριν από κάθε εισαγωγή στον πίνακα performance_artist και έχει ως στόχο να διασφαλίσει τόσο τη μοναδικότητα της σχέσης εμφάνισης-καλλιτέχνη όσο και τη συμμόρφωση με σημαντικούς λειτουργικούς περιορισμούς. Αρχικά, αποτρέπει την εισαγωγή διπλότυπης εγγραφής για τον ίδιο καλλιτέχνη σε ίδια εμφάνιση. Στη συνέχεια, ελέγχει αν ο καλλιτέχνης είναι ήδη προγραμματισμένος να εμφανιστεί σε άλλη σκηνή την ίδια χρονική στιγμή, αποτρέποντας έτσι την ταυτόχρονη παρουσία σε πολλαπλές σκηνές. Επιπλέον, το trigger εξετάζει το ιστορικό συμμετοχών του καλλιτέχνη και υπολογίζει αν η νέα συμμετοχή του θα δημιουργούσε μια ακολουθία άνω των τριών συνεχόμενων ετών παρουσίας σε φεστιβάλ. Αν βρεθεί ότι ο καλλιτέχνης έχει ή θα έχει συμμετάσχει για περισσότερα από τρία διαδοχικά έτη, η εισαγωγή απορρίπτεται. Όλοι οι έλεγχοι υποστηρίζονται με κατάλληλα μηνύματα σφάλματος, διασφαλίζοντας την επιχειρησιακή λογική και την ποιότητα του προγράμματος.
