🔹 Trigger: check_event_overlap
Περιγραφή:
🔹 Trigger: check_event_overlap
Περιγραφή:
Το trigger check_event_overlap ενεργοποιείται πριν την εισαγωγή ενός νέου event στον πίνακα event και εκτελεί μια σειρά από ελέγχους που εξασφαλίζουν τη χρονική συνοχή και τη συμμόρφωση με τους κανόνες του φεστιβάλ. Αρχικά, ελέγχει ότι οι ημερομηνίες και ώρες του event βρίσκονται εντός του εύρους ημερομηνιών του αντίστοιχου φεστιβάλ (festival.start_date έως festival.end_date). Στη συνέχεια, επιβεβαιώνει ότι δεν υπάρχει ήδη άλλο event που να πραγματοποιείται στην ίδια σκηνή (stage_id) και να επικαλύπτεται χρονικά με το νέο. Τέλος, εξετάζει αν η προσθήκη του event παραβιάζει τη μέγιστη ημερήσια διάρκεια φεστιβάλ για τη συγκεκριμένη ημέρα — η συνολική διάρκεια όλων των events ανά ημέρα δεν πρέπει να υπερβαίνει τα 780 λεπτά (δηλαδή 13 ώρες). Αν παραβιαστεί οποιοσδήποτε από αυτούς τους περιορισμούς, η εισαγωγή απορρίπτεται με κατάλληλο μήνυμα σφάλματος
