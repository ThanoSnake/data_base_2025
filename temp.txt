
Ο trigger valid_review ενεργοποιείται πριν από κάθε εισαγωγή στη σχέση review και ελέγχει αν ο επισκέπτης που επιχειρεί να κάνει την αξιολόγηση έχει παρακολουθήσει την παράσταση. Συγκεκριμένα, ανακτά το event_id που αντιστοιχεί στην performance_id της κριτικής και στη συνέχεια επιβεβαιώνει ότι ο επισκέπτης (visitor_id) διαθέτει ανενεργό εισιτήριο (active = FALSE) για το συγκεκριμένο event. Αν δεν πληρούται αυτή η προϋπόθεση, απορρίπτεται η εισαγωγή με μήνυμα σφάλματος 'Invalid review'.
